---
import { getCollection } from "astro:content";
import Layout from "../layouts/Layout.astro";
import BlogPost from "../components/BlogPost.astro";

const allPosts = await getCollection("blog");
---

<Layout>
  {
    allPosts.map((post) => (
      <BlogPost
        url={`/posts/${post.id}/`}
        title={post.data.title}
        description={post.data.description ?? ""}
      />
    ))
  }
</Layout>
